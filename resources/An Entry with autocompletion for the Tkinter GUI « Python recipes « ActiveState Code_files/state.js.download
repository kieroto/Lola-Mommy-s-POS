$(document).ready(function() {

    // add OS class to body
    {
        var os = [
            'windows',
            'mac',
            'linux'
        ];
        var match = navigator.appVersion.toLowerCase().match(new RegExp(os.join('|')));
        if (match) {
            $('body').addClass("os-" + match[0]);
        };
    }

    // Listen for copy button clicks
    $("input.terminal-cmd + .copy").click(function() {
        $(this).prev().select();
        document.execCommand("copy");
        ga('send', 'event', "state-instruction", "click-copy", "layout", $("input[name='state-layout']").val());
    });
    
    $(".terminal-cmd").mouseup(function() {
        $(this).select();
        ga('send', 'event', "state-instruction", "select-cmd", "layout", $("input[name='state-layout']").val());
    });

    // Set initial tab as per OS
    if (navigator.platform.toLowerCase().indexOf("linux") != -1) {
        $(".state-box input#check1").removeAttr("checked");
        $(".state-box input#check2").attr("checked", "checked");
    }

});